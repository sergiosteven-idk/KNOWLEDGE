import{u,r as o,j as e,C as g,L as f,a as b,o as j}from"./index-Bd0lDEMI.js";import{C as y}from"./Card-BLZ6b7c_.js";import{L as v}from"./Loader-BnLytqHI.js";function _(){const{darkMode:n,highContrast:d}=u(),[c,x]=o.useState([]),[p,a]=o.useState(!0),[i,m]=o.useState(null),[s,h]=o.useState("todos");o.useEffect(()=>{(async()=>{try{a(!0);const t=await j();x(t||[])}catch(t){console.error(t),m("Error al cargar contenidos. Intenta recargar.")}finally{a(!1)}})()},[]);const l=c.filter(r=>s==="todos"||r.tipo===s);return e.jsx(g,{children:e.jsxs("main",{className:`min-h-screen py-8 transition ${d?"bg-yellow-50 text-black":n?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[e.jsxs("section",{className:"flex flex-col items-center justify-center py-8 md:py-12 gap-4 animate-fade-in",children:[e.jsx(f,{size:60,"md:size":80,className:"drop-shadow-lg"}),e.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-knowledge-purple text-center px-4",children:"Contenidos Aprobados"}),e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 max-w-2xl px-4 text-sm md:text-base",children:"Explora recursos educativos de calidad seleccionados por nuestra comunidad."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center mb-8 gap-4 px-4",children:[e.jsx("label",{htmlFor:"tipo-filtro",className:"sr-only",children:"Filtrar contenidos por tipo"}),e.jsxs("select",{id:"tipo-filtro",className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-black dark:bg-gray-800 dark:text-white focus:ring-2 focus:ring-knowledge-green transition-all duration-200 min-h-12",value:s,onChange:r=>h(r.target.value),"aria-label":"Filtrar contenidos por tipo",children:[e.jsx("option",{value:"todos",children:"ðŸ“ Todos los tipos"}),e.jsx("option",{value:"video",children:"ðŸ“¹ Videos"}),e.jsx("option",{value:"pdf",children:"ðŸ“„ Documentos PDF"}),e.jsx("option",{value:"curso",children:"ðŸŽ“ Cursos"})]})]}),p?e.jsx("div",{className:"py-12",children:e.jsx(v,{})}):i?e.jsx("div",{className:"mx-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg text-red-700 dark:text-red-300",children:i}):l.length===0?e.jsx("p",{className:"text-center opacity-70 py-8 px-4",children:"No hay contenidos publicados todavÃ­a."}):e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 px-4",children:l.map((r,t)=>e.jsxs(y,{title:r.titulo,className:`hover:shadow-lg transition animate-fade-in-delay-${t%3+1}`,children:[e.jsx("p",{className:"text-sm opacity-80 mb-3",children:r.descripcion}),r.tipo==="video"&&r.archivo_url?e.jsx("video",{controls:!0,className:"w-full rounded-lg mb-3 max-h-40",children:e.jsx("source",{src:`http://localhost:5000${r.archivo_url}`,type:"video/mp4"})}):r.tipo==="pdf"?e.jsx("a",{href:r.url_contenido||`http://localhost:5000${r.archivo_url}`,target:"_blank",rel:"noreferrer",className:"inline-block text-knowledge-purple hover:underline py-2 px-4 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",children:"ðŸ“„ Ver documento PDF"}):e.jsxs("p",{className:"italic text-gray-400",children:["Tipo: ",r.tipo]}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 text-sm",children:[e.jsx(b,{to:`/feedback?contenido=${r.id_contenido}`,className:"text-knowledge-green hover:underline font-medium min-h-10 flex items-center",children:"Ver opiniones"}),e.jsx("a",{href:r.url_contenido||`http://localhost:5000${r.archivo_url}`,target:"_blank",rel:"noreferrer",className:"text-knowledge-purple hover:underline font-medium min-h-10 flex items-center",children:"Abrir recurso"})]}),e.jsxs("div",{className:"mt-4 text-xs opacity-60 pt-3 border-t border-gray-200 dark:border-gray-700",children:["ðŸ“… ",new Date(r.fecha_publicacion).toLocaleDateString("es-ES")]})]},r.id_contenido))})]})})}export{_ as default};
