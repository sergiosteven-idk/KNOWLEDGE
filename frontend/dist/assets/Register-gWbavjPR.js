import{g as j,h as v,r as i,j as e}from"./index-Bd0lDEMI.js";import{F as w}from"./FormContainer-CutMiBho.js";import{F as t,a as n}from"./FormInput-kT7PvXjE.js";import{F as y}from"./FormCheckbox-BGnuvAm2.js";import{F as C}from"./FormSubmitButton-D7msHVkw.js";function S(){const{register:u,loading:p}=j(),h=v(),[s,a]=i.useState({nombre:"",apellido:"",correo:"",contrasena:"",confirmPassword:""}),[o,c]=i.useState({}),[l,x]=i.useState(!1),[d,g]=i.useState(""),b=()=>{const r={};return s.nombre.trim()||(r.nombre="El nombre es requerido"),s.apellido.trim()||(r.apellido="El apellido es requerido"),s.correo.includes("@")||(r.correo="Correo inv√°lido"),s.contrasena.length<6&&(r.contrasena="La contrase√±a debe tener al menos 6 caracteres"),s.contrasena!==s.confirmPassword&&(r.confirmPassword="Las contrase√±as no coinciden"),l||(r.terms="Debes aceptar los t√©rminos y condiciones"),c(r),Object.keys(r).length===0},f=async r=>{if(r.preventDefault(),!b())return;const m=await u({nombre:s.nombre,apellido:s.apellido,correo:s.correo,contrasena:s.contrasena});m.ok?(g("‚úÖ Usuario registrado. Redirigiendo..."),setTimeout(()=>h("/login"),2e3)):c({submit:m.msg})};return e.jsx(w,{title:"Crear cuenta",subtitle:"√önete a la comunidad Knowledge",children:e.jsxs("form",{onSubmit:f,className:"w-full space-y-5",children:[o.submit&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg animate-scale-in",children:e.jsxs("p",{className:"text-red-700 font-semibold flex items-center gap-2",children:[e.jsx("span",{className:"animate-shake",children:"‚ö†Ô∏è"})," ",o.submit]})}),d&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-lg animate-scale-in",children:e.jsxs("p",{className:"text-green-700 font-semibold flex items-center gap-2",children:[e.jsx("span",{className:"animate-checkmark",children:"‚úÖ"})," ",d]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{icon:"üë§",required:!0,children:"Nombre"}),e.jsx(n,{type:"text",placeholder:"Juan",value:s.nombre,onChange:r=>a({...s,nombre:r.target.value}),error:!!o.nombre,helperText:o.nombre,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{icon:"üë§",required:!0,children:"Apellido"}),e.jsx(n,{type:"text",placeholder:"P√©rez",value:s.apellido,onChange:r=>a({...s,apellido:r.target.value}),error:!!o.apellido,helperText:o.apellido,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(t,{icon:"üìß",required:!0,children:"Correo electr√≥nico"}),e.jsx(n,{type:"email",placeholder:"tu@correo.com",value:s.correo,onChange:r=>a({...s,correo:r.target.value}),error:!!o.correo,helperText:o.correo||"Usar√°s esto para iniciar sesi√≥n",required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{icon:"üîê",required:!0,children:"Contrase√±a"}),e.jsx(n,{type:"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:s.contrasena,onChange:r=>a({...s,contrasena:r.target.value}),error:!!o.contrasena,helperText:o.contrasena||"M√≠nimo 6 caracteres, letras y n√∫meros",required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{icon:"üîê",required:!0,children:"Confirmar contrase√±a"}),e.jsx(n,{type:"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:s.confirmPassword,onChange:r=>a({...s,confirmPassword:r.target.value}),error:!!o.confirmPassword,helperText:o.confirmPassword,required:!0})]}),e.jsx(y,{id:"terms",checked:l,onChange:r=>x(r.target.checked),label:"Acepto los t√©rminos y condiciones",error:!!o.terms,helperText:o.terms||"Le√≠ste y aceptas nuestros t√©rminos de servicio"}),e.jsx("div",{className:"pt-4",children:e.jsx(C,{type:"submit",loading:p,icon:"‚ú®",children:"Crear cuenta"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4 border-t border-white/10",children:[e.jsx("span",{className:"text-purple-100 text-sm",children:"¬øYa tienes cuenta?"}),e.jsx("a",{href:"/login",className:"text-white font-semibold hover:text-purple-100 transition-colors",children:"Inicia sesi√≥n"})]})]})})}export{S as default};
